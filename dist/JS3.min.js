/*! JS3 - JavaScript Style Sheet  
 *  Version 0.1.2 (Build 17-02-2014) 
 *  Copyright © 2014 Vikas Burman. All rights reserved. 
 * 
 *  Project: https://github.com/vikasburman/js3 
 *  License: https://raw.github.com/vikasburman/js3/master/LICENSE.md 
 *  Commercial: http://www.vikasburman.com/js3 
 */ 
!function(){"use strict";var a={NAME:"JS3",TITLE:"JavaScript Style Sheets",VERSION:"0.1.2",COPYRIGHT:"Copyright © 2014 Vikas Burman. All rights reserved.",URL:"https://github.com/vikasburman/js3"},b=function(a){return a&&"[object Array]"===Object.prototype.toString.call(a)},c=function(a){return a&&"function"==typeof a},d=function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)},e=function(a,e){var f=this,g="$TYLE$",h=[],i="",j=!1,k=!1,l=!1,m=!1,n=!1,o=!1,p=[],q={vars:"variable",decl:"declaration",style:"style",sel:"selector",at:"at-rule"},r=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"_"+a()+a()+"_"+a()+"_"+a()+"_"+a()+"_"+a()+a()+a()},s=function(){return"js3_"+e+r()},t=function(a){var b="",c=null,d=0;for(d=0;d<a.length;++d)c=a[d],b+=" "+c.apply(f);return b},u=function(){var a="",b=null,c="",d="",e="",i="",j=0,k=0,l="";for(j=0;j<h.length;++j){if(b=h[j],c=b.applyTo(),i=c.replace(g,t(b.styles)),b.applyTo.type()===q.sel&&b.applyTo.raw.canBeScoped()&&f.parent.settings.isConsiderScopes&&p.length>0){for(k=0;k<p.length;++k)l=p[k],e+=l+" "+i;d=e}else d=i;a+=" "+d}return a},v=function(){var a=i;i=s();var b=window.document.createElement("style");if(b.id=i,b.innerHTML=u(),window.document.getElementsByTagName("head")[0].appendChild(b),a){var c=window.document.getElementById(a);c.parentNode.removeChild(c)}j=!0,l=!1},w=function(){if(j){var a=window.document.getElementById(i);a.parentNode.removeChild(a),i="",j=!1,l=!1}},x=function(a,b,c){l=!0,j&&f.parent.settings.isLogChanges&&window.console.log(a.toString()+" new style"+(a>1?"s are":" is")+" added to "+b+' "'+c+'".'),j&&f.parent.settings.isReloadOnChange&&f.reload()},y=function(a,b,c){l=!0,j&&f.parent.settings.isLogChanges&&window.console.log('Style "'+a+'" is removed from '+b+' "'+c+'".'),j&&f.parent.settings.isReloadOnChange&&f.reload()},z=function(a,b,c,d){l=!0,j&&f.parent.settings.isLogChanges&&window.console.log("Value of "+a+' "'+b+'" is changed from "'+c+'" to "'+d+'".'),j&&f.parent.settings.isReloadOnChange&&f.reload()},A=function(a){var b=function(){return null};return a&&(b=c(a)?function(){var b=a.apply(f);return b}:function(){var b=a;return b}),b.plain=function(){return b(!0)},b},B=function(a,e,g){var h=function(){return""};return a&&(h=c(a)?e?b(e)?function(b){var d="",h=a.apply(f);return h<=e.length&&(d=e[h]),d&&g&&!b&&(d=c(g)?d.toString()+g.apply(f).toString():d.toString()+g.toString()),d}:d(e)?function(b){var d="",h=a.apply(f);return e[h]&&(d=e[h]),d&&g&&!b&&(d=c(g)?d.toString()+g.apply(f).toString():d.toString()+g.toString()),d}:function(b){var d=a.apply(f);return d&&(d=c(e)&&!b?d.toString()+e.apply(f).toString():d.toString()+e.toString()),d}:function(){var b=a.apply(f);return b}:function(b){var d=a;return d&&e&&!b&&(d=c(e)?d.toString()+e.apply(f).toString():d.toString()+e.toString()),d}),h.plain=function(){return h(!0)},h.last={},h.last.valueOrValueFuncOrCondFunc=a,h.last.valueSuffixOrValueArrayOrValueLiteral=e,h.last.valueSuffixOrFuncOrNone=g,h},C=function(a,e){var g=function(){return[]},h=function(a){return a||(a=[]),b(a)||(a=[a]),a};if(a)if(c(a))if(e)if(b(e))g=function(){var b=[],c=a.apply(f);return c<=e.length&&(b=h(e[c])),b};else{if(!d(e))throw"invalid argument";g=function(){var b=[],c=a.apply(f);return e[c]&&(b=h(e[c])),b}}else g=c(a.type)&&a.type()===q.decl?function(){var b=h(a);return b}:function(){var b=h(a.apply(f));return b};else{if(!b(a))throw"invalid argument";g=function(){var b=a;return b}}return g.plain=function(){return g()},g.last={},g.last.declArrayOrDeclArrayFuncOrCondFunc=a,g.last.declArrayOrDeclLiteral=e,g},D=function(a){var b=function(){return""},d=function(a){return a+" {"+g+"}"};return a&&(b=c(a)?function(b){var c=a.apply(f);return c&&!b&&(c=d(c)),c}:function(b){var c=a;return c&&!b&&(c=d(c)),c}),b.plain=function(){return b(!0)},b},E=function(a){var b=function(){return""};return arguments.lenhth>0&&(b=c(a)?function(){var b=a.apply(f).toString();return b}:function(){var b=a.toString();return b}),b.plain=function(){return b(!0)},b},F=function(a,b){var c=function(c){if(c){var d=b();b=A(c),z(q.vars,a,d,b())}return b()};return c.type=function(){return q.vars},c.raw={},c.raw.name=function(){return a},c.raw.value=function(){return b.plain()},c.raw.type=function(){return typeof c.raw.value()},f.parent.ex.me(f,c,c.type(),c.raw.type(),c.raw.name()),c},G=function(a,b,c){var d=function(a){return a&&(a=a.toString()),a.substr(a.length-1!==";")&&(a+=";"),b+":"+a},e=function(b,e,f){if(arguments.length>0){var g=d(c());e||(e=c.last.valueSuffixOrValueArrayOrValueLiteral),f||(f=c.last.valueSuffixOrFuncOrNone),c=B(b,e,f),z(q.decl,a,g,d(c()))}return d(c())};return e.type=function(){return q.decl},e.raw={},e.raw.name=function(){return a},e.raw.property=function(){return b},e.raw.value=function(){return c.plain()},e.raw.type=function(){return typeof e.raw.value()},e.raw.suffix=function(){var a=c(),b=e.prop.value();return a.replace(b,"")},f.parent.ex.me(f,e,e.type(),e.raw.type(),e.raw.property()),e},H=function(a,d){var e=function(a){var b="",c=0,d=null;for(c=0;c<a.length;++c)d=a[c],b+=d.apply(f);return b},g=function(b,c){if(arguments.length>0){var f=e(d());c||(c=d.last.declArrayOrDeclLiteral),d=C(b,c),z(q.style,a,f,e(d()))}return e(d())};return g.type=function(){return q.style},g.attach=function(b){f.attach(f.styles[a],b)},g.detach=function(b){f.detach(f.styles[a],b)},g.add=function(a,c){var e=d.plain();e=b(e)?e.slice(0):[e],a=b(a)?a:[a],e=c?a.concat(e):e.concat(a),g(e)},g.remove=function(a){var e=d.plain();if(e=b(e)?e.slice(0):[e],!c(a.type)&&a.type()!==q.decl)throw"invalid argument";var f=0,h=null,i=a.raw.name(),j=-1;for(f=0;f<e.length;++f)if(h=e[f],h.raw.name()===i){j=f;break}-1!==j&&e.splice(j,1),g(e)},g.raw={},g.raw.name=function(){return a},g.raw.value=function(){return d.plain()},g.raw.type=function(){return typeof g.raw.value()},g},I=function(a,b,c){b=b||!1;var d=function(b){if(b){var d=c();c=D(b),z(q.sel,a,d,c())}return c()};return d.type=function(){return q.sel},d.apply=function(b){f.apply(f.sel[a],b)},d.clear=function(b){f.clear(f.sel[a],b)},d.raw={},d.raw.name=function(){return a},d.raw.canBeScoped=function(){return b},d.raw.value=function(){return c.plain()},d.raw.type=function(){return typeof d.raw.value()},d},J=function(a,b,c){var d=function(){return"@"+b+" {"+g+"}"},e=function(b){if(b){var e=d(c());c=E(b),z(q.at,a,e,d(c()))}return d(c())};return e.type=function(){return q.at},e.apply=function(b){f.apply(f.at[a],b)},e.clear=function(b){f.clear(f.at[a],b)},e.raw={},e.raw.name=function(){return a},e.raw.rule=function(){return b},e.raw.value=function(){return c.plain()},e.raw.type=function(){return typeof e.raw.value()},e};f.xref=function(){return arguments.length>0&&(f.parent.xref(e,Array.prototype.slice.call(arguments,0)),k=!0),f},f.decl=function(a,b,c,d){return G(r(),a,B(b,c,d))},f.style=function(a,b){return H(r(),C(a,b))},f.vars=function(a,b){if(2===arguments.length){if(f.vars[a])throw'Variable "'+a+'" already defined.';f.vars[a]=F(a,A(b))}else if(d(a)){var c=null;for(c in a)if(a.hasOwnProperty(c)){if(f.vars[c])throw'Variable "'+c+'" already defined.';f.vars[c]=F(c,A(a[c]))}}return f},f.sel=function(a,b,c){return a&&(f.sel[a]=I(a,c,D(b))),f},f.at=function(a,b,c){return a&&(f.at[a]=J(a,b,E(c))),f},f.decls=function(a,b,c,d,e){return a&&(f.decls[a]=G(a,b,B(c,d,e))),f},f.styles=function(a,b,c){return a&&(f.styles[a]=H(a,C(b,c))),f},f.apply=function(a,d){if(d=b(d)?d:[d],!c(a.type))throw"invalid argument";var e=a.type();if(-1===[q.sel,q.at].indexOf(e))throw"invalid argument";return h.push({applyTo:a,styles:d}),x(d.length,e,a.raw.name()),f},f.clear=function(a,b){if(!c(a.type)||!c(b.type))throw"invalid argument";if(b.type()!==q.style)throw"invalid argument";var d=a.type();if(-1===[q.sel,q.at].indexOf(d))throw"invalid argument";var e=a.raw.name(),g=0,i=0,j=null,k=-1;for(g=0;g<h.length;++g)if(j=h[g],j.applyTo.type()===d&&j.applyTo.raw.name()===e){for(k=-1,i=0;i<j.styles.length;++i)if(j.styles[i].raw.name()===b.raw.name()){k=i;break}-1!==k&&(j.styles.splice(k,1),y(b.raw.name(),d,e))}return f},f.attach=function(a,d){d=b(d)?d:[d];var e=0,g=null,h="";for(e=0;e<d.length;++e){if(g=d[e],!c(g.type))throw"invalid argument";if(h=g.type(),-1===[q.sel,q.at].indexOf(h))throw"invalid argument";f.apply(g,a)}},f.detach=function(a,d){d=b(d)?d:[d];var e=0,g=null,h="";for(e=0;e<d.length;++e){if(g=d[e],!c(g.type))throw"invalid argument";if(h=g.type(),-1===[q.sel,q.at].indexOf(h))throw"invalid argument";f.clear(g,a)}},f.done=function(){o||(l=!0,m=!0)},f.load=function(){m&&(n||(n=!0,arguments.length>0&&(p=Array.prototype.slice.call(arguments,0)),l=!0,f.reload()))},f.end=function(){m||(l=!0,o=!0,f.reload())},f.parent=a,f.id=function(){return i},f.isChanged=function(){return l},f.name=function(){return e},f.reload=function(){(l&&!m||l&&m&&n)&&(v(),k&&f.parent.reload.dependents(e))},f.unload=function(){j&&(w(),k&&f.parent.unload.dependents(e))},f.remove=function(){f.unload(),f.parent.css.remove(f.name()),k&&f.parent.remove.dependents(e)}},f=function(){var c=this;c.info={name:function(){return a.NAME},title:function(){return a.TITLE},version:function(){return a.VERSION},copyright:function(){return a.COPYRIGHT},url:function(){return a.URL}},c.settings={},c.settings.isLogChanges=!0,c.settings.isLoadExtensions=!0,c.settings.isReloadOnChange=!1,c.settings.isConsiderScopes=!0;var d=[],f={};c.all=function(){return d},c.xref=function(a,b){var c=f[a]||[],d=0,e="";for(d=0;d<b.length;++d)e=b[d],e!==a&&-1===c.indexOf(e)&&c.push(e);f[a]=c},c.css=function(a){if(!a)throw"CSS filename must be defined.";if(c[a])throw'CSS file "'+a+'" is already loaded.';var b=new e(c,a);return c[a]=b,d.push(b),b},c.css.remove=function(a){if(!a)throw"CSS filename must be defined.";if(!c[a])throw'CSS file "'+a+'" is not loaded.';delete c[a];var b=0,e=null,f=-1;for(b=0;b<d.length;++b)if(e=d[b],e.name()===a){f=b;break}-1!==f&&d.splice(f,1)};var g={};c.ex=function(a,d,e,f,h){if(c.settings.isLoadExtensions){if(!a)throw"invalid argument";if(!d)throw"invalid argument";e||(e=""),"*"===e&&(e=""),f||(f=""),"*"===f&&(f=""),d=b(d)?d:[d];var i=0,j="",k="";for(i=0;i<d.length;++i){if(j=d[i],k="_"+j+"_"+e+"_"+f+"_"+a,g[k])throw'Extension "'+a+'" is already loaded.';g[k]={exName:a,targetValueType:j,targetValueDataType:e,targetType:f,classFunc:h}}}},c.ex.me=function(a,b,c,d,e){var f=null,h=null;b.parent=b.parent||a;for(h in g)g.hasOwnProperty(h)&&(f=g[h],f.targetValueType!==c||f.targetValueDataType!==d&&""!==f.targetValueDataType||f.targetType!==e&&""!==f.targetType||f.classFunc(b))},c.load={},c.load.all=function(){var a=0,b=null;for(a=0;a<d.length;++a)b=d[a],b.load.apply(b,arguments)},c.unload={},c.unload.all=function(){var a=0,b=null;for(a=0;a<d.length;++a)b=d[a],b.unload()},c.unload.dependents=function(a){var b=f[a]||[],d=0,e="",g=null;for(d=0;d<b.length;++d)e=b[d],g=c[e],g&&g.unload()},c.reload={},c.reload.all=function(){var a=0,b=null;for(a=0;a<d.length;++a)b=d[a],b.reload()},c.reload.dependents=function(a){var b=f[a]||[],d=0,e="",g=null;for(d=0;d<b.length;++d)e=b[d],g=c[e],g&&g.reload()},c.remove={},c.remove.all=function(){c.unloadAll();var a=0,b=null;for(a=0;a<d.length;++a)b=d[a],delete c[b.name()];d=[]},c.remove.dependents=function(a){var b=f[a]||[],d=0,e="",g=null;for(d=0;d<b.length;++d)e=b[d],g=c[e],g&&g.remove()}};window.JS3=new f}(),function(){"use strict";JS3.ex("math",["declaration","variable"],"number","*",function(a){a.add=function(b){if("number"!=typeof b)throw"invalid argument";a(a.raw.value()+b)},a.substract=function(b){if("number"!=typeof b)throw"invalid argument";a(a.raw.value()-b)},a.multiply=function(b){if("number"!=typeof b)throw"invalid argument";a(a.raw.value()*b)},a.divide=function(b){if("number"!=typeof b)throw"invalid argument";a(a.raw.value()/b)}})}();